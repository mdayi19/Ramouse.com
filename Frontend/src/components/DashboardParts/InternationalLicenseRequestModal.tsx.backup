import React, { useState, useCallback } from 'react';
import Icon from '../Icon';
import { InternationalLicenseRequest } from '../../types';
import {
    Step,
    getStatusConfig,
    DocumentPreview,
    VisualStepper,
    InfoCard
} from './InternationalLicenseComponents';
import { api } from '../../lib/api';

interface InternationalLicenseRequestModalProps {
    selectedRequest: InternationalLicenseRequest;
    onClose: () => void;
    onStatusUpdate?: (id: number, newStatus: string, note?: string) => Promise<void>;
    STEPS: Step[];
    formatCurrency: (amount: number) => string;
    isReadOnly?: boolean;
    onRefresh?: () => void;
}

const InternationalLicenseRequestModal: React.FC<InternationalLicenseRequestModalProps> = ({
    selectedRequest,
    onClose,
    onStatusUpdate,
    STEPS,
    formatCurrency,
    isReadOnly = false,
    onRefresh
}) => {
    // State
    const [activeTab, setActiveTab] = useState<'info' | 'documents' | 'actions'>('info');
    const [showRejectModal, setShowRejectModal] = useState(false);
    const [rejectReason, setRejectReason] = useState('');
    const [isUpdating, setIsUpdating] = useState(false);
    const [isUploading, setIsUploading] = useState(false);

    // Re-upload states
    const [reuploadMode, setReuploadMode] = useState<'none' | 'payment' | 'documents'>('none');
    const [newPaymentProof, setNewPaymentProof] = useState<File | null>(null);
    const [newDocuments, setNewDocuments] = useState<{
        personal_photo?: File;
        id_document?: File;
        passport_document?: File;
    }>({});

    // Image preview state
    const [previewImage, setPreviewImage] = useState<string | null>(null);

    const statusConfig = getStatusConfig(selectedRequest.status);

    // Format date helper
    const formatDate = useCallback((dateString: string) => {
        return new Intl.DateTimeFormat('ar-SY', {
            dateStyle: 'long',
            timeStyle: 'short'
        }).format(new Date(dateString));
    }, []);

    // Status update handler
    const handleStatusUpdate = useCallback(async (newStatus: string) => {
        if (!onStatusUpdate) return;

        if (newStatus === 'rejected') {
            setShowRejectModal(true);
            return;
        }

        setIsUpdating(true);
        try {
            await onStatusUpdate(selectedRequest.id, newStatus);
        } finally {
            setIsUpdating(false);
        }
    }, [onStatusUpdate, selectedRequest.id]);

    // Submit rejection
    const submitRejection = useCallback(async () => {
        if (!rejectReason.trim() || !onStatusUpdate) return;

        setIsUpdating(true);
        try {
            await onStatusUpdate(selectedRequest.id, 'rejected', rejectReason);
            setShowRejectModal(false);
            setRejectReason('');
        } finally {
            setIsUpdating(false);
        }
    }, [rejectReason, onStatusUpdate, selectedRequest.id]);

    // Re-upload payment proof
    const handleReuploadPayment = useCallback(async () => {
        if (!newPaymentProof) return;

        setIsUploading(true);
        const formData = new FormData();
        formData.append('proof_of_payment', newPaymentProof);

        try {
            await api.post(`/international-license/requests/${selectedRequest.id}/reupload-payment`, formData, {
                headers: { 'Content-Type': 'multipart/form-data' }
            });
            onRefresh?.();
            onClose();
        } catch (error) {
            console.error(error);
            alert('فشل في رفع الملف. حاول مرة أخرى.');
        } finally {
            setIsUploading(false);
        }
    }, [newPaymentProof, selectedRequest.id, onRefresh, onClose]);

    // Re-upload documents
    const handleReuploadDocuments = useCallback(async () => {
        if (Object.keys(newDocuments).length === 0) return;

        setIsUploading(true);
        const formData = new FormData();
        Object.entries(newDocuments).forEach(([key, file]) => {
            if (file) formData.append(key, file);
        });

        try {
            await api.post(`/international-license/requests/${selectedRequest.id}/reupload-documents`, formData, {
                headers: { 'Content-Type': 'multipart/form-data' }
            });
            onRefresh?.();
            onClose();
        } catch (error) {
            console.error(error);
            alert('فشل في رفع المستندات. حاول مرة أخرى.');
        } finally {
            setIsUploading(false);
        }
    }, [newDocuments, selectedRequest.id, onRefresh, onClose]);

    // Get next step info
    const getNextStep = useCallback(() => {
        const currentIndex = STEPS.findIndex(s => s.id === selectedRequest.status);
        return STEPS[currentIndex + 1] || null;
    }, [STEPS, selectedRequest.status]);

    const nextStep = getNextStep();

    // Documents array for easy rendering
    const documents = [
        { key: 'personal_photo', label: 'الصورة الشخصية', icon: 'User', url: selectedRequest.personal_photo },
        { key: 'id_document', label: 'وثيقة الهوية (أمامي)', icon: 'CreditCard', url: selectedRequest.id_document },
        { key: 'id_document_back', label: 'وثيقة الهوية (خلفي)', icon: 'CreditCard', url: selectedRequest.id_document_back },
        { key: 'passport_document', label: 'جواز السفر', icon: 'Book', url: selectedRequest.passport_document },
        { key: 'driving_license_front', label: 'رخصة القيادة (أمامي)', icon: 'FileText', url: selectedRequest.driving_license_front },
        { key: 'driving_license_back', label: 'رخصة القيادة (خلفي)', icon: 'FileText', url: selectedRequest.driving_license_back },
        { key: 'proof_of_payment', label: 'إثبات الدفع', icon: 'DollarSign', url: selectedRequest.proof_of_payment, highlight: true },
    ].filter(doc => doc.url);

    return (
        <>
            {/* Main Modal */}
            <div
                className="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm"
                onClick={onClose}
            >
                <div
                    className="bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-5xl max-h-[90vh] 
                        overflow-hidden flex flex-col animate-in zoom-in-95 fade-in duration-300"
                    onClick={(e) => e.stopPropagation()}
                >
                    {/* Header */}
                    <div className="relative p-6 border-b border-slate-200 dark:border-slate-700 
                        bg-gradient-to-br from-slate-50 to-white dark:from-slate-800 dark:to-slate-900">
                        {/* Status indicator */}
                        <div className={`absolute top-0 left-0 right-0 h-1 bg-gradient-to-r ${statusConfig.bgGradient}`} />

                        <div className="flex justify-between items-start mb-6">
                            <div className="flex items-start gap-4">
                                <div className={`p-3 rounded-xl bg-gradient-to-br ${statusConfig.bgGradient} text-white shadow-lg`}>
                                    <Icon name="FileText" className="w-6 h-6" />
                                </div>
                                <div>
                                    <div className="flex items-center gap-3 mb-1">
                                        <h2 className="text-xl font-bold text-slate-800 dark:text-white">
                                            طلب رخصة دولية
                                        </h2>
                                        <span className="font-mono text-sm font-bold text-primary bg-primary/10 px-2.5 py-1 rounded-lg">
                                            #{selectedRequest.order_number}
                                        </span>
                                    </div>
                                    <span className={`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-sm 
                                        font-bold border ${statusConfig.color}`}>
                                        <Icon name={statusConfig.icon} className="w-4 h-4" />
                                        {statusConfig.label}
                                    </span>
                                </div>
                            </div>

                            <button
                                onClick={onClose}
                                className="p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-xl transition-all"
                            >
                                <Icon name="X" className="w-6 h-6 text-slate-500" />
                            </button>
                        </div>

                        {/* Visual Stepper */}
                        <div className="bg-white dark:bg-slate-900/50 rounded-xl p-4 border border-slate-200 dark:border-slate-700">
                            <VisualStepper status={selectedRequest.status} steps={STEPS} />
                        </div>
                    </div>

                    {/* Tabs (Mobile) */}
                    <div className="flex lg:hidden border-b border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50">
                        {[
                            { id: 'info', label: 'المعلومات', icon: 'User' },
                            { id: 'documents', label: 'المستندات', icon: 'FileText' },
                            ...(!isReadOnly ? [{ id: 'actions', label: 'الإجراءات', icon: 'Settings' }] : [])
                        ].map((tab) => (
                            <button
                                key={tab.id}
                                onClick={() => setActiveTab(tab.id as any)}
                                className={`flex-1 flex items-center justify-center gap-2 py-3 text-sm font-bold 
                                    transition-all border-b-2 ${activeTab === tab.id
                                        ? 'border-primary text-primary bg-white dark:bg-slate-800'
                                        : 'border-transparent text-slate-500 hover:text-slate-700'
                                    }`}
                            >
                                <Icon name={tab.icon} className="w-4 h-4" />
                                {tab.label}
                            </button>
                        ))}
                    </div>

                    {/* Content */}
                    <div className="flex-1 overflow-hidden flex flex-col lg:flex-row">
                        {/* Sidebar - Personal Info */}
                        <div className={`w-full lg:w-80 flex-shrink-0 bg-slate-50 dark:bg-slate-900 
                            border-b lg:border-b-0 lg:border-l border-slate-200 dark:border-slate-700 
                            overflow-y-auto p-5 ${activeTab !== 'info' ? 'hidden lg:block' : ''}`}>

                            <h3 className="text-sm font-bold text-slate-500 dark:text-slate-400 mb-4 flex items-center gap-2">
                                <Icon name="User" className="w-4 h-4" />
                                بيانات مقدم الطلب
                            </h3>

                            <div className="space-y-3">
                                <InfoCard
                                    icon="User"
                                    label="الاسم الكامل"
                                    value={selectedRequest.full_name}
                                />
                                <InfoCard
                                    icon="Phone"
                                    label="رقم الهاتف"
                                    value={selectedRequest.phone}
                                    action={{
                                        icon: 'ExternalLink',
                                        onClick: () => window.open(`https://wa.me/${selectedRequest.phone.replace(/\D/g, '')}`, '_blank'),
                                        label: 'واتساب'
                                    }}
                                />
                                <InfoCard
                                    icon="Flag"
                                    label="الجنسية"
                                    value={selectedRequest.nationality === 'syrian' ? 'سوري' : 'غير سوري'}
                                    {reuploadMode !== 'none' && (
                                        <div className={`mb-6 p-5 rounded-xl border-2 ${reuploadMode === 'payment'
                                            ? 'bg-emerald-50 dark:bg-emerald-900/20 border-emerald-200 dark:border-emerald-800'
                                            : 'bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800'
                                            }`}>
                                            <h4 className={`font-bold text-lg mb-4 flex items-center gap-2 ${reuploadMode === 'payment' ? 'text-emerald-700' : 'text-blue-700'
                                                }`}>
                                                <Icon name="UploadCloud" className="w-5 h-5" />
                                                {reuploadMode === 'payment' ? 'رفع إيصال دفع جديد' : 'تحديث المستندات'}
                                            </h4>

                                            {reuploadMode === 'payment' ? (
                                                <div className="space-y-4">
                                                    <label className="block">
                                                        <div className="flex items-center justify-center w-full h-32 border-2 border-dashed 
                                                    border-emerald-300 dark:border-emerald-700 rounded-xl cursor-pointer 
                                                    hover:bg-emerald-100/50 transition-all">
                                                            <div className="text-center">
                                                                <Icon name="Upload" className="w-8 h-8 text-emerald-400 mx-auto mb-2" />
                                                                <p className="text-sm text-emerald-600">
                                                                    {newPaymentProof ? newPaymentProof.name : 'اختر ملف أو اسحبه هنا'}
                                                                </p>
                                                            </div>
                                                        </div>
                                                        <input
                                                            type="file"
                                                            accept="image/*,application/pdf"
                                                            onChange={(e) => setNewPaymentProof(e.target.files?.[0] || null)}
                                                            className="hidden"
                                                        />
                                                    </label>
                                                    <div className="flex gap-2 justify-end">
                                                        <button
                                                            onClick={() => setReuploadMode('none')}
                                                            className="px-4 py-2 text-slate-600 hover:text-slate-800 font-bold"
                                                        >
                                                            إلغاء
                                                        </button>
                                                        <button
                                                            onClick={handleReuploadPayment}
                                                            disabled={!newPaymentProof || isUploading}
                                                            className="px-6 py-2 bg-emerald-600 hover:bg-emerald-700 text-white 
                                                        rounded-lg font-bold shadow-lg disabled:opacity-50 flex items-center gap-2"
                                                        >
                                                            {isUploading ? (
                                                                <><Icon name="Loader" className="w-4 h-4 animate-spin" /> جاري الرفع...</>
                                                            ) : (
                                                                <><Icon name="Check" className="w-4 h-4" /> تأكيد وإرسال</>
                                                            )}
                                                        </button>
                                                    </div>
                                                </div>
                                            ) : (
                                                <div className="space-y-4">
                                                    {['personal_photo', 'id_document', 'passport_document'].map((docKey) => (
                                                        <div key={docKey}>
                                                            <label className="block text-xs font-bold text-slate-600 mb-2">
                                                                {docKey === 'personal_photo' ? 'الصورة الشخصية' :
                                                                    docKey === 'id_document' ? 'وثيقة الهوية' : 'جواز السفر'} (اختياري)
                                                            </label>
                                                            <input
                                                                type="file"
                                                                accept="image/*,application/pdf"
                                                                onChange={(e) => {
                                                                    const file = e.target.files?.[0];
                                                                    setNewDocuments(prev => file
                                                                        ? { ...prev, [docKey]: file }
                                                                        : Object.fromEntries(Object.entries(prev).filter(([k]) => k !== docKey))
                                                                    );
                                                                }}
                                                                className="w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded-full 
                                                            file:border-0 file:text-sm file:font-semibold file:bg-blue-100 
                                                            file:text-blue-700 hover:file:bg-blue-200"
                                                            />
                                                        </div>
                                                    ))}
                                                    <div className="flex gap-2 justify-end pt-2">
                                                        <button
                                                            onClick={() => setReuploadMode('none')}
                                                            className="px-4 py-2 text-slate-600 hover:text-slate-800 font-bold"
                                                        >
                                                            إلغاء
                                                        </button>
                                                        <button
                                                            onClick={handleReuploadDocuments}
                                                            disabled={Object.keys(newDocuments).length === 0 || isUploading}
                                                            className="px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white 
                                                        rounded-lg font-bold shadow-lg disabled:opacity-50 flex items-center gap-2"
                                                        >
                                                            {isUploading ? (
                                                                <><Icon name="Loader" className="w-4 h-4 animate-spin" /> جاري الرفع...</>
                                                            ) : (
                                                                <><Icon name="Check" className="w-4 h-4" /> تأكيد التحديث</>
                                                            )}
                                                        </button>
                                                    </div>
                                                </div>
                                            )}
                                        </div>
                                    )}

                                    {/* Documents Grid */}
                    <h3 className="text-sm font-bold text-slate-500 dark:text-slate-400 mb-4 flex items-center gap-2">
                                    <Icon name="FileText" className="w-4 h-4" />
                                    المستندات المرفقة ({documents.length})
                                </h3>

                                <div className="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                    {documents.map((doc) => (
                                        <div
                                            key={doc.key}
                                            className={`rounded-xl overflow-hidden border-2 transition-all hover:shadow-lg ${doc.highlight
                                                ? 'border-emerald-200 dark:border-emerald-800'
                                                : 'border-slate-200 dark:border-slate-700'
                                                }`}
                                        >
                                            <div className={`px-4 py-3 flex items-center justify-between ${doc.highlight
                                                ? 'bg-emerald-50 dark:bg-emerald-900/20'
                                                : 'bg-slate-50 dark:bg-slate-900'
                                                }`}>
                                                <span className="text-sm font-bold text-slate-700 dark:text-slate-300 
                                                flex items-center gap-2">
                                                    <Icon name={doc.icon} className={`w-4 h-4 ${doc.highlight ? 'text-emerald-500' : 'text-slate-400'
                                                        }`} />
                                                    {doc.label}
                                                </span>
                                                <a
                                                    href={`/storage/${doc.url}`}
                                                    target="_blank"
                                                    rel="noopener noreferrer"
                                                    className="p-1.5 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-lg transition-all"
                                                >
                                                    <Icon name="ExternalLink" className="w-4 h-4 text-slate-400" />
                                                </a>
                                            </div>
                                            <DocumentPreview
                                                url={doc.url!}
                                                type={doc.label}
                                                onPreview={setPreviewImage}
                                            />
                                        </div>
                                    ))}
                                </div>

                                {documents.length === 0 && (
                                    <div className="text-center py-12 text-slate-400">
                                        <Icon name="FileX" className="w-12 h-12 mx-auto mb-3 opacity-50" />
                                        <p>لا توجد مستندات مرفقة</p>
                                    </div>
                                )}
                            </div>

                            {/* Actions Sidebar (Admin Only) */}
                            {!isReadOnly && (
                                <div className={`w-full lg:w-72 flex-shrink-0 bg-slate-50 dark:bg-slate-900 
                                border-t lg:border-t-0 lg:border-r border-slate-200 dark:border-slate-700 
                                p-5 ${activeTab !== 'actions' ? 'hidden lg:block' : ''}`}>

                                    <h3 className="text-sm font-bold text-slate-500 dark:text-slate-400 mb-4 flex items-center gap-2">
                                        <Icon name="Settings" className="w-4 h-4" />
                                        إجراءات الإدارة
                                    </h3>

                                    <div className="space-y-3">
                                        {/* Primary Action - Next Step */}
                                        {nextStep && selectedRequest.status !== 'rejected' && (
                                            <button
                                                onClick={() => handleStatusUpdate(nextStep.id)}
                                                disabled={isUpdating}
                                                className="w-full flex items-center justify-center gap-2 px-4 py-4 
                                                bg-gradient-to-r from-primary to-primary-dark text-white rounded-xl 
                                                font-bold shadow-lg shadow-primary/30 hover:shadow-xl 
                                                hover:scale-[1.02] transition-all disabled:opacity-50"
                                            >
                                                {isUpdating ? (
                                                    <Icon name="Loader" className="w-5 h-5 animate-spin" />
                                                ) : (
                                                    <>
                                                        <span>نقل إلى: {nextStep.label}</span>
                                                        <Icon name="ArrowLeft" className="w-5 h-5" />
                                                    </>
                                                )}
                                            </button>
                                        )}

                                        {/* Reject Action */}
                                        {selectedRequest.status !== 'rejected' && selectedRequest.status !== 'ready_to_handle' && (
                                            <button
                                                onClick={() => handleStatusUpdate('rejected')}
                                                className="w-full flex items-center justify-center gap-2 px-4 py-3 
                                                bg-red-50 hover:bg-red-100 text-red-600 border border-red-200 
                                                dark:bg-red-900/20 dark:hover:bg-red-900/30 dark:text-red-400 
                                                dark:border-red-800 rounded-xl font-bold transition-all"
                                            >
                                                <Icon name="XCircle" className="w-5 h-5" />
                                                {selectedRequest.status === 'payment_check' ? 'رفض الدفع' :
                                                    selectedRequest.status === 'documents_check' ? 'رفض المستندات' : 'رفض الطلب'}
                                            </button>
                                        )}

                                        {/* Completed / Rejected State */}
                                        {(selectedRequest.status === 'ready_to_handle' || selectedRequest.status === 'rejected') && (
                                            <div className={`p-4 rounded-xl text-center border-2 ${selectedRequest.status === 'ready_to_handle'
                                                ? 'bg-emerald-50 border-emerald-200 text-emerald-700 dark:bg-emerald-900/20 dark:border-emerald-800 dark:text-emerald-400'
                                                : 'bg-red-50 border-red-200 text-red-700 dark:bg-red-900/20 dark:border-red-800 dark:text-red-400'
                                                }`}>
                                                <Icon
                                                    name={selectedRequest.status === 'ready_to_handle' ? 'CheckCircle' : 'XCircle'}
                                                    className="w-8 h-8 mx-auto mb-2"
                                                />
                                                <p className="font-bold">
                                                    {selectedRequest.status === 'ready_to_handle'
                                                        ? 'الطلب مكتمل وجاهز للتسليم'
                                                        : 'تم رفض هذا الطلب'
                                                    }
                                                </p>
                                            </div>
                                        )}

                                        {/* Quick Status Reference */}
                                        <div className="mt-6 pt-4 border-t border-slate-200 dark:border-slate-700">
                                            <h4 className="text-xs font-bold text-slate-400 mb-3">مراحل الطلب</h4>
                                            <VisualStepper
                                                status={selectedRequest.status}
                                                steps={STEPS}
                                                orientation="vertical"
                                                showLabels={true}
                                            />
                                        </div>
                                    </div>
                                </div>
                            )}
                        </div>
                    </div >
                </div >

                {/* Rejection Modal */}
                {
                    showRejectModal && (
                        <div
                            className="fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm"
                            onClick={() => setShowRejectModal(false)}
                        >
                            <div
                                className="bg-white dark:bg-slate-800 rounded-2xl shadow-2xl p-6 w-full max-w-md 
                            animate-in zoom-in-95 fade-in duration-200"
                                onClick={(e) => e.stopPropagation()}
                            >
                                <div className="flex flex-col items-center text-center mb-6">
                                    <div className="w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full 
                                flex items-center justify-center mb-4 text-red-600 dark:text-red-400">
                                        <Icon name="AlertTriangle" className="w-8 h-8" />
                                    </div>
                                    <h3 className="text-xl font-bold text-slate-800 dark:text-white">رفض الطلب</h3>
                                    <p className="text-slate-500 dark:text-slate-400 mt-2 text-sm">
                                        يرجى تحديد سبب رفض الطلب. سيتم إرسال هذا السبب إلى المستخدم.
                                    </p>
                                </div>

                                <div className="mb-6">
                                    <label className="block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2">
                                        سبب الرفض <span className="text-red-500">*</span>
                                    </label>
                                    <textarea
                                        value={rejectReason}
                                        onChange={(e) => setRejectReason(e.target.value)}
                                        rows={4}
                                        className="w-full px-4 py-3 rounded-xl border-2 border-slate-200 dark:border-slate-700 
                                    bg-slate-50 dark:bg-slate-900 focus:border-red-500 focus:ring-4 focus:ring-red-500/10 
                                    transition-all resize-none"
                                        placeholder="اكتب سبب الرفض هنا..."
                                        autoFocus
                                    />
                                </div>

                                <div className="flex gap-3">
                                    <button
                                        onClick={() => {
                                            setShowRejectModal(false);
                                            setRejectReason('');
                                        }}
                                        disabled={isUpdating}
                                        className="flex-1 px-4 py-3 bg-slate-100 hover:bg-slate-200 text-slate-700 
                                    dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600 
                                    rounded-xl font-bold transition-all disabled:opacity-50"
                                    >
                                        إلغاء
                                    </button>
                                    <button
                                        onClick={submitRejection}
                                        disabled={!rejectReason.trim() || isUpdating}
                                        className="flex-1 px-4 py-3 bg-red-600 hover:bg-red-700 text-white rounded-xl 
                                    font-bold shadow-lg shadow-red-500/30 transition-all disabled:opacity-50 
                                    flex items-center justify-center gap-2"
                                    >
                                        {isUpdating ? (
                                            <Icon name="Loader" className="w-4 h-4 animate-spin" />
                                        ) : (
                                            'تأكيد الرفض'
                                        )}
                                    </button>
                                </div>
                            </div>
                        </div>
                    )
                }

                {/* Image Preview Lightbox */}
                {
                    previewImage && (
                        <div
                            className="fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/90"
                            onClick={() => setPreviewImage(null)}
                        >
                            <button
                                onClick={() => setPreviewImage(null)}
                                className="absolute top-4 right-4 p-2 bg-white/10 hover:bg-white/20 rounded-full 
                            text-white transition-all"
                            >
                                <Icon name="X" className="w-6 h-6" />
                            </button>
                            <img
                                src={previewImage}
                                alt="Preview"
                                className="max-w-full max-h-full object-contain rounded-lg"
                                onClick={(e) => e.stopPropagation()}
                            />
                        </div>
                    )
                }
            </>
            );
};

            export default InternationalLicenseRequestModal;